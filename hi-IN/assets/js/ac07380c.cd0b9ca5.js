"use strict";(self.webpackChunklancer_docs=self.webpackChunklancer_docs||[]).push([[3962],{5733:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>i,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"installation/docker","title":"Docker","description":"Running Lancer using docker compose","source":"@site/docs/installation/docker.md","sourceDirName":"installation","slug":"/installation/docker","permalink":"/lancer-docs/hi-IN/docs/installation/docker","draft":false,"unlisted":false,"editUrl":"https://github.com/weekend-dev-labs/lancer-docs/docs/installation/docker.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"Docker"},"sidebar":"tutorialSidebar","previous":{"title":"Linux","permalink":"/lancer-docs/hi-IN/docs/installation/linux"},"next":{"title":"Quickstart","permalink":"/lancer-docs/hi-IN/docs/quickstart"}}');var r=s(4848),t=s(8453);const i={sidebar_position:3,title:"Docker"},a="Install Lancer using Docker",c={},l=[{value:"Running Lancer using <code>docker compose</code>",id:"running-lancer-using-docker-compose",level:2},{value:"Steps",id:"steps",level:3}];function d(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,t.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"install-lancer-using-docker",children:"Install Lancer using Docker"})}),"\n",(0,r.jsxs)(e.h2,{id:"running-lancer-using-docker-compose",children:["Running Lancer using ",(0,r.jsx)(e.code,{children:"docker compose"})]}),"\n",(0,r.jsx)(e.p,{children:"You can run Lancer app using the following command :"}),"\n",(0,r.jsx)(e.h3,{id:"steps",children:"Steps"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"Start by createing a directory where your lancer server will sit, for example Desktop/lancer"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["In this folder create a ",(0,r.jsx)(e.code,{children:"docker-compose.yml"})," file and open it using any preferred text editor."]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"You've two YML files for use: using either PostgreSQL or PostgreSQL with Redis"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"docker-compose.yml"})," for PostgreSQL only :"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-yaml",children:'version: \'3\'\nservices:\n  postgres:\n    container_name: postgres\n    image: postgres:latest\n    environment:\n      - POSTGRES_DB=my_db\n      - POSTGRES_USER=user\n      - POSTGRES_PASSWORD=password \n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n    expose:\n      - "5432"\n    ports:\n      - "5432:5432"\n    healthcheck:\n      test: ["CMD", "pg_isready", "-U", "user", "-d", "my_db"]\n      interval: 1m30s\n      timeout: 30s\n      retries: 5\n      start_period: 30s\n  \n  app:\n    container_name: app\n    image: weekenddevlabs/lancer:latest\n    build: .\n    volumes:\n      - ./uploads:/uploads\n      - ./config.yaml:/root/config.yaml\n    depends_on:\n      postgres:\n        condition: service_healthy\n    ports:\n      - "8080:8080"\n    entrypoint:\n      - sh\n      - -c\n      - >\n        ./lancer --config=/root/config.yaml --database-migrate=true &&\n        exec ./lancer --config=/root/config.yaml\n    healthcheck:\n      test: ["CMD", "curl", "-f", "http://localhost:8080/health"]\n      interval: 10s\n      timeout: 5s\n      retries: 5\n\nvolumes:\n  postgres_data:\n  uploads:\n'})}),"\n",(0,r.jsxs)(e.ol,{start:"5",children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["Make sure to have a config.yaml file in the same directory of your compose file with database and other configuration checkout this section for configuration: ",(0,r.jsx)(e.a,{href:"/lancer-docs/hi-IN/docs/documentation/configuration",children:"Configuration"})]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"docker-compose.yml"})," for PostgreSQL & Redis :"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-yaml",children:'version: \'3\'\nservices:\n  postgres:\n    container_name: postgres\n    image: postgres:latest\n    environment:\n      - POSTGRES_DB=my_db\n      - POSTGRES_USER=user\n      - POSTGRES_PASSWORD=password \n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n    expose:\n      - "5432"\n    ports:\n      - "5432:5432"\n    healthcheck:\n      test: ["CMD", "pg_isready", "-U", "user", "-d", "my_db"]\n      interval: 1m30s\n      timeout: 30s\n      retries: 5\n      start_period: 30s\n    \n  redis:\n    image: redis:latest\n    ports:\n      - "6379:6379"\n  \n  app:\n    container_name: app\n    image: weekenddevlabs/lancer:latest\n    build: .\n    volumes:\n      - ./uploads:/uploads\n      - ./config.yaml:/root/config.yaml\n    depends_on:\n      - postgres\n      - redis\n    ports:\n      - "8080:8080"\n    entrypoint:\n      - sh\n      - -c\n      - >\n        ./lancer --config=/root/config.yaml --database-migrate=true &&\n        exec ./lancer --config=/root/config.yaml\n    healthcheck:\n      test: ["CMD", "curl", "-f", "http://localhost:8080/health"]\n      interval: 10s\n      timeout: 5s\n      retries: 5\n\nvolumes:\n  postgres_data:\n  uploads:\n'})}),"\n",(0,r.jsxs)(e.ol,{start:"7",children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["Now run ",(0,r.jsx)(e.code,{children:"docker compose up"})]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["Now you can checkout the lancer dashboard at ",(0,r.jsx)(e.code,{children:"localhost:8080"})]}),"\n"]}),"\n"]})]})}function p(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(d,{...n})}):d(n)}},8453:(n,e,s)=>{s.d(e,{R:()=>i,x:()=>a});var o=s(6540);const r={},t=o.createContext(r);function i(n){const e=o.useContext(t);return o.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:i(n.components),o.createElement(t.Provider,{value:e},n.children)}}}]);